<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>pexel</title>
  <style>
    body{
      text-align: center;
      justify-content: center;
    }
    h1, h3{
      color: green;
    }
    .search{
      position: relative;
      right: 1.5rem;
      color: white;
      background-color: green;
    }
    input{
      color: black;

      border: ;
      width: 300px;
    }
    button{
      color: white;
      background-color: green;
      border: 2px solid green;
    }
    .display{
      display: grid;
      width: 100%;
      height: 100%;
      margin-top:100px ;
      grid-template-columns: repeat(3,100px);
      grid-template-rows:repeat(3,100px) ;
      justify-content: center;
      column-gap: 1rem;
      row-gap: 1rem;
    }
    .items{
      border: 1px solid rgba(116, 115, 115, 0.562);
      border-radius: 0.5rem;
      box-shadow: 1px 1px 1px 1px lightgray;
      overflow:hidden;
    }
    .pagination{
      display: grid;

    }
    .photo{ 
      width:100%;
      height: 60%;
    }
  </style>
</head>
<body>
  <h1>
    Welcome To My Picture Search
  </h1>
  <h3>
    search any picture you like
  </h3>
  <input id="userinput" type="search" placeholder="Enter a query...">
  <button onclick="fetchpicture()" class="search">Search</button>
  <div class="display">
    <div class="items">
      <img class="photo" src="./roof.avif" alt="">
      <h4>Photographer:Esther Akin</h4>
      <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Facilis, minus perferendis mollitia minima distinctio nesciunt magni ad cumque possimus sequi vitae beatae sapiente necessitatibus repellendus, laborum dolore dolor, assumenda delectus.</p>
    </div>
    <div class="items"></div>
    <div class="items"></div>
    <div class="items"></div>
    <div class="items"></div>
    <div class="items"></div>
    <div class="items"></div>
    <div class="items"></div>
    <div class="items"></div>
  </div>
  <br><br><br>
  <button>1</button>
  <button>2</button>
  <button>3</button>
  <button>next</button>
  <script>
    const fetchpicture = async() =>{
      let query = document.getElementById("userinput").
      try{
        let response = await fetch(`https://api.pexels.com/v1/search?query=${query}&page=${page}&per_page=12`,{
          method:"GET",
          headers:{
            Authorization: Fh8TDRdo2pc93zTY8CPk2WYT6bzDeMl40hke7Oq7W0s4yGw2NrSgyAQJ,
          },
        }
      )
      let data = await response.json();
      
      currentPage = page;
          totalPages = Math.ceil(data.total_results / 12);

          console.log(response);
          console.log(data, "data");
          let image = data.photos.map
          ((item) => {
            return item;
          });
          console.log(image);
          for (let i in image) {
            showItems += `<div class="items">
          <img
            class="photo"
            src="${image[i].src.large}"
            alt="${image[i].alt}"
          />
          <h4 class="photographer">Photographer: ${image[i].photographer}</h4>
          <h5 class="description">
            Description: ${image[i].alt}
          </h5>
        </div> `;
          }
          document.getElementById("displayItems").innerHTML = showItems;

document.getElementById("prev").disabled = currentPage <= 1;
document.getElementById("next").disabled = currentPage >= totalPages;
} catch (error) {
console.log(error);
}
};

const handlePrev = () => {
if (currentPage > 1) {
fetchPictures(currentPage - 1);
}
};

const handleNext = () => {
if (currentPage < totalPages) {
fetchPictures(currentPage + 1);
}
      }
    
  </script>
</body>
</html>